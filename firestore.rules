rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // This is the specific path your code is using
    match /artifacts/toysfortots-eae4d/public/3USFkKsJe7T8ZYdW5YfE/data/EF1QWEKWPMuoLN7fC4Ri {

      // This rule fixes your "Error fetching location"
      // It allows any authenticated user (like your anonymous one)
      // to *read* (get) a single location document.
      match /locations/{boxId} {
        allow get: if request.auth != null;
        allow list, write: if false;
      }

      // This rule allows your authenticated user to *create*
      // (write) new reports in the totsReports collection.
      match /totsReports/{reportId} {
        allow create: if request.auth != null;
        allow read, update, delete: if false;
      }
    }

    // Deny all other access to all other documents by default
    match /{document=**} {
      allow read, write: if false;
    }
  }
}