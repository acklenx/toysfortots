!function(){async function t(){const t=document.getElementById("logged-in-user");if(!t)return;if(!window.auth||!window.auth.currentUser)return void(t.style.visibility="hidden");const e=window.auth.currentUser;if(e.isAnonymous)return void(t.style.visibility="hidden");let i=e.displayName||e.email||"Unknown";if(i.includes("@")&&(i=i.split("@")[0]),window.functions)try{const n=`t4t_auth_${e.uid}`,s=sessionStorage.getItem(n);let o;if(null!==s)o="true"===s;else{const{httpsCallable:t}=await import("https://www.gstatic.com/firebasejs/11.6.1/firebase-functions.js"),e=t(window.functions,"isAuthorizedVolunteerV2");o=(await e()).data.isAuthorized,sessionStorage.setItem(n,o?"true":"false")}const u=o?"":"*";t.textContent=`${i}${u}`}catch(e){t.textContent=i}else t.textContent=i;t.style.visibility="visible"}let e=0;!function i(){window.auth&&window.db?(window.auth.onAuthStateChanged(()=>{t()}),window.auth.currentUser&&t()):e<20&&(e++,setTimeout(i,500))}()}();