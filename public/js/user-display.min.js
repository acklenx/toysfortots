!function(){async function t(){const t=document.getElementById("logged-in-user");if(t)if(window.auth&&window.auth.currentUser){const i=window.auth.currentUser;if(i.isAnonymous)return void(t.style.visibility="hidden");let n=i.displayName||i.email||"Unknown";if(n.includes("@")&&(n=n.split("@")[0]),window.functions)try{const{httpsCallable:i}=await import("https://www.gstatic.com/firebasejs/11.6.1/firebase-functions.js"),e=i(window.functions,"isAuthorizedVolunteerV2"),s=await e(),o=s.data.isAuthorized?"":"*";t.textContent=`${n}${o}`}catch(i){t.textContent=n}else t.textContent=n;t.style.visibility="visible"}else t.style.visibility="hidden"}let i=0;!function n(){window.auth&&window.db?(window.auth.onAuthStateChanged(()=>{t()}),window.auth.currentUser&&t()):i<20&&(i++,setTimeout(n,500))}()}();